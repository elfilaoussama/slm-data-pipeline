{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DocumentationRecord",
  "type": "object",
  "required": ["id", "task", "language", "license", "provenance", "code", "docstring", "source", "synthetic"],
  "properties": {
    "id": {"type": "string"},
    "task": {"type": "string", "const": "documentation"},
    "language": {"type": "string"},
    "license": {"type": ["string", "null"]},
    "provenance": {"$ref": "provenance.schema.json"},
    "code": {"type": "string"},
    "docstring": {"type": "string"},
    "source": {"type": "string"},
    "synthetic": {"type": "boolean"},
    "metadata": {
      "type": "object",
      "properties": {
        "documentation": {
          "type": "object",
          "properties": {
            "score": {"type": ["number", "null"]},
            "tier": {"type": ["string", "null"]},
            "synthetic": {"type": ["boolean", "null"]}
          }
        },
        "quality": {
          "type": "object",
          "properties": {
            "cyclomatic_complexity": {"type": ["number", "null"]},
            "nesting_depth": {"type": ["number", "null"]},
            "lines_of_code": {"type": ["number", "null"]}
          }
        }
      }
    }
  }
}
